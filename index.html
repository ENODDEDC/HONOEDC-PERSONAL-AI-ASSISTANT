<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Honoedc - Personal AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <script src="https://unpkg.com/split.js/dist/split.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/material-darker.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm/css/xterm.css" />
    <script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/xml/xml.min.js"></script>
    <script src="https://unpkg.com/isomorphic-git"></script>
    <script src="https://unpkg.com/isomorphic-git/http/web"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/css/css.min.js"></script>
    <link rel="stylesheet" href="src/doc_preview.css">
    <script src="src/libs/html-to-docx.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/htmlmixed/htmlmixed.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
        #aiResponse pre, #viewResponseContent pre {
            background-color: #282c34; /* atom-one-dark background */
            color: #abb2bf; /* atom-one-dark foreground */
            padding: 1em;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
        }
        #aiResponse code, #viewResponseContent code {
            font-family: 'Courier New', Courier, monospace;
        }
        /* Style for inline code, but not for code blocks */
        :not(pre) > code {
            background-color: #282c34;
            color: #abb2bf;
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }
        #aiResponse table, #viewResponseContent table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 1em;
            margin-bottom: 1em;
        }
        #aiResponse th, #aiResponse td, #viewResponseContent th, #viewResponseContent td {
            border: 1px solid #4b5563; /* bg-gray-600 */
            padding: 8px;
            text-align: left;
        }
        #aiResponse th, #viewResponseContent th {
            background-color: #374151; /* bg-gray-700 */
        }
        #aiResponse h1, #aiResponse h2, #aiResponse h3, #viewResponseContent h1, #viewResponseContent h2, #viewResponseContent h3 {
            font-weight: bold;
            margin-top: 1em;
            margin-bottom: 0.5em;
        }
        #aiResponse h1 { font-size: 1.5em; }
        #aiResponse h2 { font-size: 1.25em; }
        #aiResponse h3 { font-size: 1.1em; }
       .CodeMirror {
           font-size: 14px;
           flex-grow: 1;
           min-height: 0;
       }
      .CodeMirror-scroll {
          overflow: auto !important;
      }
      .gutter {
          background-color: #4b5563; /* bg-gray-600 */
          background-repeat: no-repeat;
           background-position: 50%;
       }
       .gutter.gutter-horizontal {
           cursor: col-resize;
           background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAeCAYAAADkftS9AAAAIklEQVQoU2M4c+bMfxAGAgYYmwGrIIiDjrELjpo5aiZeMwF+yNnOs5KSvgAAAABJRU5ErkJggg==');
       }
       .chat-bubble {
           max-width: 80%;
           padding: 10px 15px;
           border-radius: 20px;
           margin-bottom: 10px;
           word-wrap: break-word;
       }
       .user-bubble {
           background-color: #4f46e5; /* bg-indigo-600 */
           color: white;
           align-self: flex-end;
           border-bottom-right-radius: 5px;
           white-space: pre-wrap;
       }
       .ai-bubble {
           background-color: #374151; /* bg-gray-700 */
           color: #d1d5db; /* text-gray-300 */
           align-self: flex-start;
           border-bottom-left-radius: 5px;
       }
       /* Custom Scrollbar */
       ::-webkit-scrollbar {
           width: 8px;
       }
       ::-webkit-scrollbar-track {
           background: #1f2937; /* bg-gray-800 */
       }
       ::-webkit-scrollbar-thumb {
           background: #4b5563; /* bg-gray-600 */
           border-radius: 4px;
       }
       ::-webkit-scrollbar-thumb:hover {
           background: #6b7280; /* bg-gray-500 */
       }
       #aiResponse a {
           color: #818cf8; /* text-indigo-400 */
           text-decoration: underline;
       }
       #aiResponse a:hover {
           color: #a5b4fc; /* text-indigo-300 */
       }
       #aiResponse, #viewResponseContent {
           text-align: justify;
           white-space: pre-wrap;
       }
       #docPreview ul {
           list-style-type: disc;
           margin-left: 20px;
       }
       #docPreview li {
           display: list-item;
       }
       #aiResponse .task-list-item, #viewResponseContent .task-list-item {
           list-style-type: none;
           margin-left: 1.5em; /* Indent checkboxes */
       }
       #aiResponse .task-list-item input[type="checkbox"], #viewResponseContent .task-list-item input[type="checkbox"] {
           margin-right: 10px;
       }
    </style>
</head>
<body class="bg-gray-900 text-gray-300 flex flex-col h-screen">
   <header class="bg-gray-800 shadow-md p-4 flex justify-between items-center border-b border-gray-700">
       <div class="flex items-center">
           <svg class="w-8 h-8 text-indigo-400 mr-3" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
               <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" fill="currentColor"/>
               <path d="M12 6C9.79 6 8 7.79 8 10C8 12.21 9.79 14 12 14C14.21 14 16 12.21 16 10C16 7.79 14.21 6 12 6ZM12 12C10.9 12 10 11.1 10 10C10 8.9 10.9 8 12 8C13.1 8 14 8.9 14 10C14 11.1 13.1 12 12 12Z" fill="currentColor"/>
           </svg>
           <h1 class="text-xl font-bold text-white">Honoedc - Personal AI Assistant</h1>
       </div>
       <div class="relative">
           <button id="settingsBtn" class="text-sm text-indigo-400 hover:text-indigo-300 font-semibold">
               <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
           </button>
           <div id="settingsDropdown" class="absolute right-0 mt-2 w-48 bg-gray-700 rounded-md shadow-lg z-10 hidden">
               <a href="#" id="saveBtn" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-600">Save Conversation</a>
               <a href="#" id="loadBtn" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-600">Load Conversation</a>
               <a href="#" id="deleteBtn" class="block px-4 py-2 text-sm text-red-400 hover:bg-gray-600 hidden">Delete Conversation</a>
               <a href="#" id="exportBtn" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-600">Export Conversation</a>
               <a href="#" id="importBtn" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-600">Import Conversation</a>
               <a href="#" id="shareSessionBtn" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-600">Share Session</a>
               <a href="#" id="systemInstructionBtn" class="block px-4 py-2 text-sm text-gray-300 hover:bg-gray-600">Behavior Configuration</a>
           </div>
       </div>
   </header>
   <div id="split-container" class="flex-grow flex flex-col md:flex-row overflow-hidden">
        <!-- Left side: AI Response -->
       <div id="split-0" class="bg-gray-800 shadow-lg flex flex-col h-full overflow-hidden">
           <div class="flex border-b border-gray-700">
               <button id="chatTab" class="px-4 py-2 text-sm font-medium text-white bg-gray-700 rounded-t-lg">Chat</button>
               <button id="honoetionTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">Honoetion</button>
               <button id="developerTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">Developer</button>
               <button id="docAgentTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">DOC Agent</button>
           </div>
           <div id="chatContent" class="p-8 flex-grow overflow-hidden">
               <div id="aiResponse" class="flex-grow bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-lg whitespace-pre-wrap text-gray-300 overflow-y-auto border border-gray-700 shadow-inner h-full">
                   Your AI-generated response will appear here.
               </div>
           </div>
           <div id="honoetionContent" class="p-8 flex-grow overflow-y-auto hidden">
               <div class="flex justify-between items-center mb-4">
                   <h2 class="text-xl text-white">My Tables</h2>
                   <button id="addTableBtn" class="px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Add New Table</button>
               </div>
               <div id="tablesContainer" class="space-y-6">
                   <!-- Tables will be dynamically added here -->
               </div>
           </div>
           <div id="developerContent" class="flex-grow hidden flex flex-col overflow-hidden">
               <div class="flex border-b border-gray-600 px-8 pt-8">
                   <button id="devAiIdeTab" class="px-4 py-2 text-sm font-medium text-white bg-gray-700 rounded-t-lg">AI IDE</button>
                   <button id="devUserFlowTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">User Flow Diagram</button>
                   <button id="devSvgTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">SVG Generator</button>
                   <button id="devColorPaletteTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">Color Palette</button>
                   <button id="devBgRemoverTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">Background Remover</button>
                   <button id="devMockupTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">Mockup Generator</button>
                   <button id="devTerminalTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">Terminal</button>
                   <button id="devGitTab" class="px-4 py-2 text-sm font-medium text-gray-400 hover:bg-gray-700">Git</button>
               </div>
               <div id="devAiIdeContent" class="flex-grow flex flex-col h-full">
                   <div class="flex-grow flex flex-row h-full">
                       <div id="fileExplorer" class="w-1/4 bg-gray-900 p-2 overflow-y-auto border-r border-gray-700">
                           <h3 class="text-lg font-bold text-white mb-2">Project Files</h3>
                           <div class="flex items-center justify-between mb-2 p-1 bg-gray-800 rounded-md">
                               <button id="addFileBtn" title="New File" class="p-1 text-gray-400 hover:text-white hover:bg-gray-700 rounded-md">
                                   <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                               </button>
                               <button id="openProjectBtn" title="Open Project" class="p-1 text-gray-400 hover:text-white hover:bg-gray-700 rounded-md">
                                   <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 19a2 2 0 01-2-2V7a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1M5 19h14a2 2 0 002-2v-5a2 2 0 00-2-2H9a2 2 0 00-2 2v5a2 2 0 01-2 2z"></path></svg>
                               </button>
                                <button id="runProjectBtn" title="Run Project" class="p-1 text-gray-400 hover:text-white hover:bg-gray-700 rounded-md">
                                   <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                               </button>
                               <button id="lintFileBtn" title="Lint with AI" class="p-1 text-gray-400 hover:text-white hover:bg-gray-700 rounded-md">
                                   <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                               </button>
                           </div>
                           <!-- File Selection Modal -->
                           <div id="fileSelectionModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 h-full w-full hidden flex items-center justify-center z-50">
                               <div class="p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
                                   <div class="mt-3 text-center">
                                       <h3 class="text-lg leading-6 font-medium text-white">Select File to Preview</h3>
                                       <div id="fileListContainer" class="mt-2 px-7 py-3 space-y-2 max-h-60 overflow-y-auto">
                                           <!-- HTML files will be listed here -->
                                       </div>
                                       <div class="items-center px-4 py-3">
                                           <button id="closeFileSelectionModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500">
                                               Cancel
                                           </button>
                                       </div>
                                   </div>
                               </div>
                           </div>
                           <!-- Add File Modal -->
                           <div id="addFileModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 h-full w-full hidden flex items-center justify-center z-50">
                                       <div class="p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
                                           <div class="mt-3 text-center">
                                               <h3 class="text-lg leading-6 font-medium text-white">Create New File</h3>
                                               <div class="mt-2 px-7 py-3">
                                                   <input type="text" id="newFileNameInput" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="e.g., new-folder/new-file.js">
                                               </div>
                                               <div class="items-center px-4 py-3">
                                                   <button id="saveNewFileBtn" class="px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                                       Create File
                                                   </button>
                                                   <button id="closeAddFileModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 ml-2">
                                                       Cancel
                                                   </button>
                                               </div>
                                           </div>
                                       </div>
                                   </div>
                           <div id="fileTree"></div>
                       </div>
                       <div id="codeEditorContainer" class="w-3/4 flex flex-col">
                           <div id="editorFileName" class="bg-gray-800 p-2 border-b border-gray-700 text-white">No file selected</div>
                           <div id="codeEditor" class="flex-grow relative flex flex-col"></div>
                       </div>
                   </div>
               </div>
               <div id="devTerminalContent" class="p-4 flex-grow hidden">
                   <div id="terminal" class="h-full w-full"></div>
               </div>
               <div id="devGitContent" class="p-4 flex-grow hidden text-gray-300">
                   <h3 class="text-xl text-white mb-4">Git Status</h3>
                   <div id="gitStatus" class="space-y-2">
                       <p>Open a project to see Git status.</p>
                   </div>
                   <div class="mt-4">
                       <input type="text" id="gitCommitMessage" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="Commit message">
                       <button id="gitCommitBtn" class="mt-2 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Commit</button>
                   </div>
               </div>
               <div id="devUserFlowContent" class="p-8 space-y-8 hidden overflow-y-auto flex-grow">
                   <div>
                       <h3 class="text-xl text-white mb-3">Advanced User Flow Diagram</h3>
                       <p class="text-sm text-gray-400 mb-2">Use Mermaid.js syntax to generate a diagram. Try the example or write your own.</p>
                       <textarea id="userFlowInput" class="w-full h-32 p-2 bg-gray-900 border border-gray-700 text-white rounded" placeholder="e.g., graph TD; A-->B; B-->C;"></textarea>
                       <div class="flex space-x-2 mt-2">
                           <button id="createUserFlowBtn" class="px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Generate Diagram</button>
                           <button id="loadFlowExampleBtn" class="px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-md hover:bg-gray-500">Load Example</button>
                       </div>
                       <div id="userFlowDiagram" class="mt-4 p-4 bg-gray-900 rounded-lg border border-gray-700 min-h-[200px] flex justify-center items-center">
                           <!-- Mermaid diagram will render here -->
                       </div>
                   </div>
               </div>
               <div id="devSvgContent" class="p-8 space-y-8 hidden overflow-y-auto flex-grow">
                   <div>
                       <h3 class="text-xl text-white mb-3">SVG Generator</h3>
                       <p class="text-sm text-gray-400 mb-2">Generate an SVG icon or illustration from a text prompt or an image.</p>
                       <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                           <div>
                               <label for="svgPrompt" class="block text-sm font-medium text-gray-400 mb-1">Prompt:</label>
                               <input type="text" id="svgPrompt" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="e.g., A simple, modern logo for a coffee shop.">
                           </div>
                           <div>
                               <label for="svgImage" class="block text-sm font-medium text-gray-400 mb-1">Or Upload Image:</label>
                               <input type="file" id="svgImage" name="svgImage" accept="image/*" class="block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-900 file:text-indigo-300 hover:file:bg-indigo-800"/>
                           </div>
                       </div>
                       <button id="generateSvgBtn" class="mt-4 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Generate SVG</button>
                       <div id="svgOutput" class="mt-4 p-4 bg-gray-900 rounded-lg border border-gray-700 min-h-[200px]">
                            <h4 class="text-lg text-white mb-2">Generated SVG:</h4>
                            <div id="svgResult" class="prose prose-invert max-w-none flex justify-center items-center bg-gray-800 p-4 rounded-md"></div>
                            <h4 class="text-lg text-white mb-2 mt-4">SVG Code:</h4>
                            <pre class="whitespace-pre-wrap"><code id="svgCode" class="language-svg"></code></pre>
                       </div>
                   </div>
               </div>
               <div id="devColorPaletteContent" class="p-8 space-y-8 hidden overflow-y-auto flex-grow">
                   <div>
                       <h3 class="text-xl text-white mb-3">Color Palette Generator</h3>
                       <p class="text-sm text-gray-400 mb-2">Generate a color palette from a text prompt.</p>
                       <div class="flex items-center space-x-2">
                           <input type="text" id="colorPrompt" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="e.g., A calming palette for a yoga app.">
                           <button id="generateColorPaletteBtn" class="px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Generate</button>
                       </div>
                       <div id="colorPaletteOutput" class="mt-4 p-4 bg-gray-900 rounded-lg border border-gray-700 min-h-[100px] flex flex-wrap gap-4">
                           <!-- Color swatches will be displayed here -->
                       </div>
                   </div>
               </div>
               <div id="devBgRemoverContent" class="p-8 space-y-8 hidden overflow-y-auto flex-grow">
                   <div>
                       <h3 class="text-xl text-white mb-3">Background Remover (Powered by remove.bg)</h3>
                       <p class="text-sm text-gray-400 mb-2">Upload an image to remove its background. Requires a free API key from <a href="https://www.remove.bg/api" target="_blank" class="text-indigo-400 underline">remove.bg</a>.</p>
                       <div class="mb-4">
                           <label for="removeBgApiKey" class="block text-sm font-medium text-gray-400">remove.bg API Key:</label>
                           <input type="password" id="removeBgApiKey" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="Enter your remove.bg API key...">
                       </div>
                       <div class="flex items-center space-x-2">
                           <input type="file" id="bgRemoverImage" name="bgRemoverImage" accept="image/*" class="block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-900 file:text-indigo-300 hover:file:bg-indigo-800"/>
                           <button id="removeBgBtn" class="px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Remove Background</button>
                       </div>
                       <div id="bgRemoverOutput" class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                           <div>
                               <h4 class="text-lg text-white mb-2">Original:</h4>
                               <div id="originalImageContainer" class="p-4 bg-gray-900 rounded-lg border border-gray-700 min-h-[200px] flex justify-center items-center"></div>
                           </div>
                           <div>
                               <h4 class="text-lg text-white mb-2">Result:</h4>
                               <div id="resultImageContainer" class="p-4 bg-gray-900 rounded-lg border border-gray-700 min-h-[200px] flex justify-center items-center"></div>
                               <div id="aiBgControls" class="hidden mt-2">
                                   <input type="text" id="aiBgPrompt" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="e.g., A futuristic cityscape at night...">
                                   <button id="generateAiBgBtn" class="mt-2 w-full px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Generate & Replace Background</button>
                               </div>
                               <button id="downloadResultBtn" class="mt-2 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700 hidden">Download Result</button>
                           </div>
                       </div>
                   </div>
               </div>
               <div id="devMockupContent" class="p-8 space-y-8 hidden overflow-y-auto flex-grow">
                   <div>
                       <h3 class="text-xl text-white mb-3">Advanced Mockup Generator</h3>
                       <p class="text-sm text-gray-400 mb-2">Upload a wireframe and provide instructions. The AI will generate a high-fidelity mockup using Tailwind CSS.</p>
                       <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                           <div>
                               <label for="mockupImage" class="block text-sm font-medium text-gray-400 mb-1">Upload Image:</label>
                               <input type="file" id="mockupImage" name="mockupImage" accept="image/*" class="block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-900 file:text-indigo-300 hover:file:bg-indigo-800"/>
                           </div>
                           <div>
                               <label for="mockupInstructions" class="block text-sm font-medium text-gray-400 mb-1">AI Instructions (Optional):</label>
                               <input type="text" id="mockupInstructions" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="e.g., Use a dark theme with blue accents.">
                           </div>
                       </div>
                       <button id="generateMockupBtn" class="mt-4 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Generate Mockup</button>
                       <div id="mockupOutput" class="mt-4 p-4 bg-gray-900 rounded-lg border border-gray-700 min-h-[200px]">
                            <h4 class="text-lg text-white mb-2">Generated Mockup:</h4>
                            <div id="mockupResult" class="max-w-none"></div>
                            <h4 class="text-lg text-white mb-2 mt-4">HTML Code:</h4>
                            <pre class="whitespace-pre-wrap"><code id="mockupCode" class="language-html"></code></pre>
                       </div>
                   </div>
               </div>
           </div>
           <div id="docAgentContent" class="p-8 flex-grow overflow-y-auto hidden">
               <!-- DOC Agent content will go here -->
           </div>
        </div>

        <!-- Right side: Chat Interface -->
       <div id="split-1" class="flex flex-col h-full bg-gray-900 overflow-hidden">
           <div id="loadedConvoIndicator" class="p-2 text-center text-sm text-gray-400 border-b border-gray-700 hidden"></div>
           <div id="chatHistory" class="flex-grow p-4 space-y-4 overflow-y-auto flex flex-col">
                <div id="chatPlaceholder" class="flex flex-col items-center justify-center h-full text-gray-500">
                    <svg class="w-16 h-16 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 5.523-4.477 10-10 10S1 17.523 1 12 5.477 2 11 2s10 4.477 10 10z"></path></svg>
                    <p class="text-lg font-medium">No messages yet</p>
                    <p class="text-sm">Start the conversation below!</p>
                </div>
           </div>
           <div class="p-4 bg-gray-900 border-t border-gray-700">
<div id="addTableModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
                <div class="relative top-20 mx-auto p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
                    <div class="mt-3 text-center">
                        <h3 class="text-lg leading-6 font-medium text-white">Add New Table</h3>
                        <div class="mt-2 px-7 py-3 space-y-4 text-left">
                            <div>
                                <label for="tableNameInput" class="block text-sm font-medium text-gray-400">Table Name:</label>
                                <input type="text" id="tableNameInput" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="e.g., My Contacts">
                            </div>
                            <div>
                                <label for="tableColumnsInput" class="block text-sm font-medium text-gray-400">Column Names (comma-separated):</label>
                                <input type="text" id="tableColumnsInput" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="e.g., ID, Name, Email">
                            </div>
                        </div>
                        <div class="items-center px-4 py-3">
                            <button id="saveTableBtn" class="px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                                Create Table
                            </button>
                            <button id="closeAddTableModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 ml-2">
                                Cancel
                            </button>
                        </div>
                    </div>
                </div>
            </div>
               <div class="space-y-4">
                   <div class="relative">
                       <label for="prompt" class="block text-sm font-medium text-gray-400 sr-only">Message:</label>
                       <textarea id="prompt" name="prompt" rows="3" class="mt-1 block w-full bg-gray-800 border-gray-700 text-white rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-3" placeholder="Type your message..."></textarea>
                         <div id="commandSuggestion" class="absolute bottom-full left-0 w-full bg-gray-700 rounded-t-md shadow-lg z-10 hidden">
                            <div class="p-2 text-sm text-gray-300 hover:bg-gray-600 cursor-pointer" id="tableCommandSuggestion">
                                <span class="font-bold">/table</span> - Create, edit, or delete tables
                            </div>
                        </div>
                         <div id="fileSuggestion" class="absolute bottom-full left-0 w-full bg-gray-700 rounded-t-md shadow-lg z-10 hidden max-h-48 overflow-y-auto">
                           <!-- File suggestions will be dynamically inserted here -->
                        </div>
                   </div>
                   <div class="flex items-center justify-between mt-2">
                        <div class="flex items-center space-x-4">
                            <div>
                                <label for="pdfFile" class="text-sm font-medium text-gray-400 cursor-pointer hover:text-indigo-400">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"></path></svg>
                                </label>
                                <input type="file" id="pdfFile" name="pdfFile" accept="application/pdf" class="hidden"/>
                            </div>
                            <div class="flex items-center">
                                <input id="webBrowsing" name="webBrowsing" type="checkbox" class="h-4 w-4 text-indigo-600 bg-gray-700 border-gray-600 rounded focus:ring-indigo-500">
                                <label for="webBrowsing" class="ml-2 block text-sm text-gray-300">Enable Web Browsing</label>
                            </div>
                        </div>
                        <div class="space-x-2">
                           <button id="clearBtn" class="inline-flex items-center px-4 py-2 border border-gray-700 text-sm font-medium rounded-md shadow-sm text-gray-300 bg-gray-800 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                               Clear
                           </button>
                           <button id="submitBtn" class="inline-flex items-center p-2 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
                           </button>
                        </div>
                   </div>
               </div>
           </div>
       </div>
   </div>

  <!-- System Instruction Modal -->
  <div id="systemInstructionModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
      <div class="relative top-20 mx-auto p-5 border border-gray-700 w-1/2 shadow-lg rounded-md bg-gray-800">
          <div class="mt-3 text-center">
              <h3 class="text-lg leading-6 font-medium text-white">Behavior Configuration</h3>
              <div class="mt-2 px-7 py-3">
                  <textarea id="systemInstructionText" class="w-full h-40 p-2 border border-gray-600 bg-gray-700 text-white rounded" placeholder="e.g., Always respond in the style of a 19th-century poet."></textarea>
              </div>
              <div class="items-center px-4 py-3">
                  <button id="saveSystemInstruction" class="px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                      Save
                  </button>
                  <button id="closeModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 ml-2">
                      Close
                  </button>
              </div>
          </div>
      </div>
  </div>

   <!-- View Response Modal -->
   <div id="viewResponseModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
       <div class="relative top-10 mx-auto p-5 border border-gray-700 w-3/4 shadow-lg rounded-md bg-gray-800">
           <div class="mt-3">
               <div id="viewResponseContent" class="mt-2 px-7 py-3 text-gray-300 whitespace-pre-wrap overflow-y-auto max-h-[70vh]">
                   <!-- Full AI response will be displayed here -->
               </div>
               <div class="items-center px-4 py-3 flex justify-between">
                   <div class="flex items-center space-x-2">
                       <input type="color" id="highlightColorPicker" class="w-8 h-8 p-0 border-none rounded-md" value="#fef08a"> <!-- yellow-200 -->
                       <button id="highlightBtn" class="px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-md hover:bg-indigo-700">Highlight</button>
                       <button id="clearHighlightsBtn" class="px-4 py-2 bg-gray-600 text-white text-sm font-medium rounded-md hover:bg-gray-500">Clear Highlights</button>
                   </div>
                   <button id="closeViewModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500">
                       Close
                   </button>
               </div>
           </div>
       </div>
   </div>

   <!-- Save Conversation Modal -->
   <div id="saveModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
       <div class="relative top-20 mx-auto p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
           <div class="mt-3 text-center">
               <h3 class="text-lg leading-6 font-medium text-white">Save Conversation</h3>
               <div class="mt-2 px-7 py-3">
                   <input type="text" id="convoNameInput" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="Enter conversation name...">
               </div>
               <div class="items-center px-4 py-3">
                   <button id="saveConvoBtn" class="px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                       Save
                   </button>
                   <button id="closeSaveModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 ml-2">
                       Cancel
                   </button>
               </div>
           </div>
       </div>
   </div>

   <!-- Load Conversation Modal -->
   <div id="loadModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
       <div class="relative top-20 mx-auto p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
           <div class="mt-3">
               <h3 class="text-lg leading-6 font-medium text-white text-center">Load Conversation</h3>
               <div id="convoList" class="mt-4 max-h-60 overflow-y-auto space-y-2">
                   <!-- Saved conversations will be listed here -->
               </div>
               <div class="items-center px-4 py-3 text-right">
                   <button id="closeLoadModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500">
                       Cancel
                   </button>
               </div>
           </div>
       </div>
   </div>

 <!-- Export Conversation Modal -->
   <div id="exportModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
       <div class="relative top-20 mx-auto p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
           <div class="mt-3 text-center">
               <h3 class="text-lg leading-6 font-medium text-white">Export Conversation</h3>
               <div class="mt-2 px-7 py-3">
                   <input type="text" id="exportFileNameInput" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="Enter file name...">
               </div>
               <div class="items-center px-4 py-3">
                   <button id="exportConvoBtn" class="px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                       Export
                   </button>
                   <button id="closeExportModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 ml-2">
                       Cancel
                   </button>
               </div>
           </div>
       </div>
   </div>

   <!-- Import Conversation Modal -->
   <div id="importModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
       <div class="relative top-20 mx-auto p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
           <div class="mt-3 text-center">
               <h3 class="text-lg leading-6 font-medium text-white">Import Conversation</h3>
               <div class="mt-2 px-7 py-3">
                    <label for="importFileInput" class="block text-sm font-medium text-gray-400">Select a .json file to import:</label>
                    <input type="file" id="importFileInput" name="importFileInput" accept=".json" class="mt-1 block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-900 file:text-indigo-300 hover:file:bg-indigo-800"/>
               </div>
               <div class="items-center px-4 py-3">
                   <button id="importConvoBtn" class="px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                       Import
                   </button>
                   <button id="closeImportModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 ml-2">
                       Cancel
                   </button>
               </div>
           </div>
       </div>
   </div>
<!-- Add Column Modal -->
    <div id="addColumnModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
        <div class="relative top-20 mx-auto p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
            <div class="mt-3 text-center">
                <h3 class="text-lg leading-6 font-medium text-white">Add New Column</h3>
                <div class="mt-2 px-7 py-3 space-y-4 text-left">
                    <div>
                        <label for="columnNameInput" class="block text-sm font-medium text-gray-400">Column Name:</label>
                        <input type="text" id="columnNameInput" class="w-full p-2 bg-gray-700 border border-gray-600 text-white rounded" placeholder="e.g., Phone Number">
                        <input type="hidden" id="tableNameForNewColumn">
                    </div>
                </div>
                <div class="items-center px-4 py-3">
                    <button id="saveColumnBtn" class="px-4 py-2 bg-indigo-600 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">
                        Add Column
                    </button>
                    <button id="closeAddColumnModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 ml-2">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
   <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.3.3/purify.min.js"></script>
   <script>mermaid.initialize({ startOnLoad: false, theme: 'dark' });</script>
   <script src="src/script.js"></script>
   <script src="src/project-data.js"></script>
   <script src="src/indexeddb.js"></script>
   <script src="src/developer.js"></script>
   <script src="src/commands.js"></script>
   <script src="src/agent.js"></script>
   <script src="src/project-indexer.js"></script>
   <script src="src/terminal.js"></script>
   <script src="src/git.js"></script>
   <script src="src/libs/html-to-docx.js"></script>
   <script src="src/templates.js"></script>
   <script src="src/doc_writer.js"></script>
 <!-- Toast Notification -->
 <div id="toast" class="fixed bottom-5 left-1/2 -translate-x-1/2 bg-gray-700 text-white py-2 px-4 rounded-lg shadow-lg hidden">
     <p id="toast-message"></p>
 </div>
 
    <!-- AI Processing Modal -->
    <div id="aiProcessingModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 h-full w-full hidden flex items-center justify-center z-50">
        <div class="p-5 border border-gray-700 w-1/2 shadow-lg rounded-md bg-gray-800">
            <div class="mt-3 text-center">
                <h3 class="text-lg leading-6 font-medium text-white">AI Processing</h3>
                <div class="mt-2 px-7 py-3 space-y-4 text-left">
                    <div id="aiThinkingProcess" class="h-48 overflow-y-auto bg-gray-900 p-4 rounded-md border border-gray-700">
                        <!-- AI thinking process will be shown here -->
                    </div>
                    <div class="text-right text-sm text-gray-400">
                        Time elapsed: <span id="aiResponseTimer">0s</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Plan Approval Modal -->
    <div id="planApprovalModal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
        <div class="bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-2xl border border-gray-700">
            <h3 class="text-xl font-semibold text-white mb-4">Confirm Plan</h3>
            <p class="text-gray-300 mb-4">The AI has proposed the following plan. Please review and approve to continue.</p>
            <div id="planContainer" class="bg-gray-900 p-4 rounded-md border border-gray-600 text-gray-200 space-y-2 mb-6 max-h-80 overflow-y-auto">
                <!-- Plan steps will be injected here -->
            </div>
            <div class="flex justify-end space-x-4">
                <button id="cancelPlanBtn_unique" class="px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500">Cancel</button>
                <button id="approvePlanBtn_unique" class="px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">Approve</button>
            </div>
        </div>
    </div>
<!-- Full Project Read Warning Modal -->
    <div id="fullProjectWarningModal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50">
        <div class="bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg border border-yellow-500">
            <h3 class="text-xl font-semibold text-yellow-400 mb-4">Full Project Scan Warning</h3>
            <p class="text-gray-300 mb-4">
                You have not specified any files using the <code>@'path/to/file.js'</code> syntax.
            </p>
            <p class="text-gray-300 mb-6">
                To understand your request, the AI will need to read the entire content of your project. This may consume a large number of tokens and increase costs.
            </p>
            <div id="fullProjectFileCount" class="text-sm text-gray-400 mb-6"></div>
            <div class="flex justify-end space-x-4">
                <button id="cancelFullProjectScanBtn" class="px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500">Cancel</button>
                <button id="proceedWithFullProjectScanBtn" class="px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500">Proceed Anyway</button>
            </div>
        </div>
    </div>
   <!-- API Error Modal -->
   <div id="apiErrorModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 h-full w-full hidden flex items-center justify-center z-50">
       <div class="p-5 border border-red-700 w-1/3 shadow-lg rounded-md bg-gray-800">
           <div class="mt-3 text-center">
               <h3 class="text-lg leading-6 font-medium text-red-400">API Error</h3>
               <div class="mt-2 px-7 py-3">
                   <p id="apiErrorMessage" class="text-sm text-gray-300"></p>
               </div>
               <div class="items-center px-4 py-3">
                   <button id="closeApiErrorModal" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500">
                       Close
                   </button>
               </div>
           </div>
       </div>
   </div>
   <!-- Floating Settings Panel -->
   <div id="settingsContainer" class="hidden fixed bottom-16 left-4 bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-4 w-80 space-y-4 z-20">
       <div>
           <label for="apiProvider" class="block text-sm font-medium text-gray-400">API Provider:</label>
           <select id="apiProvider" name="apiProvider" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-2">
               <option value="google_gemini">Google Gemini</option>
           </select>
       </div>
       <div>
           <label for="apiKey" class="block text-sm font-medium text-gray-400">API Key:</label>
           <input type="password" id="apiKey" name="apiKey" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-2" placeholder="Enter your API key">
       </div>
       <div>
           <label for="modelSelect" class="block text-sm font-medium text-gray-400">Model:</label>
           <select id="modelSelect" name="modelSelect" class="mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-2">
               <option value="gemini-2.5-flash-lite" selected>Gemini 2.5 Flash Lite</option>
               <option value="gemini-2.5-flash">Gemini 2.5 Flash</option>
               <option value="gemini-2.5-pro">Gemini 2.5 Pro</option>
           </select>
       </div>
   </div>
   <!-- Floating Settings Button -->
   <button id="toggleSettingsBtn" class="fixed bottom-4 left-4 bg-indigo-600 text-white p-2 rounded-full shadow-lg hover:bg-indigo-700 z-30">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
   </button>
 </body>
 <!-- Delete Table Confirmation Modal -->
     <div id="deleteTableModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full hidden">
         <div class="relative top-20 mx-auto p-5 border border-gray-700 w-1/3 shadow-lg rounded-md bg-gray-800">
             <div class="mt-3 text-center">
                <h3 class="text-lg leading-6 font-medium text-white">Delete Table</h3>
                <div class="mt-2 px-7 py-3">
                    <p class="text-sm text-gray-400">Are you sure you want to delete this table? This action cannot be undone.</p>
                    <input type="hidden" id="tableNameToDelete">
                </div>
                <div class="items-center px-4 py-3">
                    <button id="confirmDeleteTableBtn" class="px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-auto shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500">
                        Delete
                    </button>
                    <button id="cancelDeleteTableBtn" class="px-4 py-2 bg-gray-600 text-gray-300 text-base font-medium rounded-md w-auto shadow-sm hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 ml-2">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
</html>
